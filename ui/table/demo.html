<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="../../face/5/css/base.css" />
		<link rel="stylesheet" href="../../face/5/css/lazy.css" />
		<!--base和lazy样式不需要和插件一起使用-->
		<link rel="stylesheet" href="ui-table.css" />
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
		</style>
	</head>
	<body>
		<!--<input class="ui-table-column-hidebtn" type="button" value="x" style="margin-left: 100px;margin-top: 20px;" />-->
		<table id="table" class="ui-table" style="width:100%" border="1">
			<caption>列表数据</caption>
			<thead class="ui-table-thead">
				<tr class="ui-table-tr">
					<td class="ui-table-td ui-table-center" style="width: 20%;" display="none">编号<a>gys</a></td>
					<td class="ui-table-td ui-table-center" style="width: 20%;" display="none">姓名</td>
					<td class="ui-table-td ui-table-center" style="width: 20%;">电话</td>
					<td class="ui-table-td ui-table-center" style="width: 20%;">年龄</td>
					<td class="ui-table-td ui-table-center" style="width: 20%;" display="none">地址</td>
				</tr>
			</thead>
			<tbody>
				<tr class="ui-table-tr ui-table-left">
					<td class="ui-table-td ui-table-left">编号</td>
					<td class="ui-table-td ui-table-left">姓名</td>
					<td class="ui-table-td ui-table-left">电话</td>
					<td class="ui-table-td ui-table-left">年龄</td>
					<td class="ui-table-td ui-table-left">地址</td>
				</tr>
				<tr class="ui-table-tr">
					<td class="ui-table-td ui-table-center">1</td>
					<td class="ui-table-td ui-table-center">张晓明</td>
					<td class="ui-table-td ui-table-center">15755196671</td>
					<td class="ui-table-td ui-table-center">126</td>
					<td class="ui-table-td ui-table-center">安徽省，合肥市高新区</td>
				</tr>
				<tr class="ui-table-tr">
					<td class="ui-table-td ui-table-right">1</td>
					<td class="ui-table-td ui-table-right">张晓明</td>
					<td class="ui-table-td ui-table-right">15755196671</td>
					<td class="ui-table-td ui-table-right">126</td>
					<td class="ui-table-td  ui-table-left">安徽省，合肥市高新区安徽省，合肥市高新区安徽省，合肥市高新区安徽省，合肥市高新区安徽省，合肥市高新区安徽省，合肥市高新区安徽省，合肥市高新区安徽省，合肥市高新区安徽省，合肥市高新区</td>
				</tr>
			</tbody>
		</table>
	</body>
	<script type="text/javascript" src="../input-tree/jquery-2.1.0.js" ></script>
	<script type="text/javascript">
		/*$("table tr").children().each(function(){
			
		});*/
		(function($){
			//影藏按钮html
			var hidenBtn="<input class='ui-table-column-hidebtn' type='button' value='x' />";
			//显示按钮html
			var showBtn=function(index,name){
				return "<div class='ui-table-column-showbtn' index="+index+">"+name+"</div>";
			};
			var startHtml=function(objTable,columns,index){
				$("tr",objTable).each(function(){
					$(this).children().eq(index).fadeOut("fast");
				});
				var showBtnHtml=showBtn(index,columns[index]);
				var objShowBtn=$(showBtnHtml);
				$("caption").append(objShowBtn);
				objShowBtn.click(function(){
					var i=$(this).attr("index");
					$("tr",objTable).each(function(){
						$(this).children().eq(i).fadeIn("slow");
					});
					$(this).remove();
				});
			};
			
			$.fn.ui_table=function(){
				var objTable=$(this);
				if($("caption",objTable).length==0){
					objTable.prepend("<caption></caption>");	
				}
				var columnCount=0;
				var columns=[];
				$("tr:first",objTable).children().each(function(index){
					var objTd=$(this).addClass("ui-table-column-switch");
					columns.push($.trim(objTd.html()));
					var objHidenBtn=$(hidenBtn);
					objTd.append(objHidenBtn);
					objHidenBtn.click(function(){
						var showCount=$("tr",objTable).eq(0).find(".ui-table-column-switch:visible").length;
						if(showCount<=1){
							return;
						}
						startHtml(objTable,columns,index);
					});
					columnCount++;
					var display=objTd.attr("display");
					if(display&&display=="none"){
						startHtml(objTable,columns,index);
					}
					
				});
			}
		})(jQuery);
		
		
		$("#table").ui_table();
		
		/*$("#table").find("tr").eq(0).find("td,th").addClass("ui-table-column-switch").each(function(index){
			var objHidenBtn=$(hideBtn);
			columns.push($.trim($(this).html()));
			$(this).append(objHidenBtn);
			objHidenBtn.click(function(){
				var showCount=$("#table").find("tr").eq(0).find(".ui-table-column-switch:visible").length;
				if(showCount<=1){
					return;
				}
				var objShowBtn=showBtn(index,columns[index]);
				$("caption").append(objShowBtn);
				objShowBtn.click(function(){
					var ind=$(this).attr("index");
					$("#table").find("tr").find("td,th").eq(index).show();
				});
				$("#table").find("tr").each(function(){
					$("th,td",this).eq(index).hide();
				});
			});
		});
		*/
	</script>
</html>
